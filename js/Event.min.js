if(typeof Event=="undefined")var Event={};Event=function(e){function t(e,t,n,r){this.x=e,this.y=t,this.type=n,this.identifier=r}e.modifyAddEventListener=!0,e.modifySelectors=!0,e.add=function(e,t,r,i){return n(e,t,r,i,"add")},e.remove=function(e,t,r,i){return n(e,t,r,i,"remove")},e.stop=function(e){e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,e.bubble=0},e.prevent=function(e){e.preventDefault&&e.preventDefault(),e.returnValue=!1},e.cancel=function(t){e.stop(t),e.prevent(t)},e.supports=function(e,t){typeof e=="string"&&(t=e,e=window),t="on"+t;if(t in e)return!0;e.setAttribute||(e=document.createElement("div"));if(e.setAttribute&&e.removeAttribute){e.setAttribute(t,"");var n=typeof e[t]=="function";return typeof e[t]!="undefined"&&(e[t]=void 0),e.removeAttribute(t),n}},e.metaTracker=function(){var t=navigator.userAgent.toLowerCase(),n=t.indexOf("macintosh")!==-1,r=n&&t.indexOf("khtml")!==-1?{91:!0,93:!0}:n&&t.indexOf("firefox")!==-1?{224:!0}:{17:!0};return function(t){r[t.keyCode]&&(e.metaKey=t.type==="keydown")}}();var n=function(t,o,p,d,v){d=d||{};if(typeof t=="string"&&o==="ready")var m=setInterval(function(){document.querySelector(t)&&(clearInterval(m),p())},d.interval||1e3/60);else{if(typeof t=="string"){t=document.querySelectorAll(t);if(t.length===0)return;if(t.length!==1){for(var y={},w=0,E=t.length;w<E;w++){var S=n(t[w],o,p,d,v);S&&(y[w]=S)}return r(y)}t=t[0]}o.indexOf&&o.indexOf(" ")!==-1&&(o=o.split(" ")),o.indexOf&&o.indexOf(",")!==-1&&(o=o.split(","));if(typeof o!="string"){y={};if(typeof o.length=="number"){w=0;for(E=o.length;w<E;w++)(S=n(t,o[w],p,d,v))&&(y[o[w]]=S)}else for(w in o)(S=typeof o[w]=="function"?n(t,w,o[w],d,v):n(t,w,o[w].listener,o[w],v))&&(y[w]=S);return r(y)}if(typeof p=="function"){y=i(o)+u(t)+"."+u(p),S=d.useCapture||!1;if(e.Gesture._gestureHandlers[o]){if(v==="remove"){if(!s[y])return;s[y].remove(),delete s[y]}else if(v==="add"){if(s[y])return s[y];if(d.useCall)var x=p,p=function(e,n){for(var r in n)e[r]=n[r];return e.gesture=n.type,e.identifier=n.identifier||Infinity,e.pointerType="mouse",e.getPointerList=function(){return[e]},x.call(t,e)};d.type=o,d.target=t,d.listener=p,s[y]=e.proxy[o](d)}}else if(v==="remove"){if(!s[y])return;t[f](o,p,S),delete s[y]}else if(v==="add"){if(s[y])return s[y];o=i(o),t[a](o,p,S),s[y]={type:o,target:t,listener:p,remove:function(){e.remove(t,o,p,d)}}}return s[y]}}},r=function(e){return{remove:function(){for(var t in e)e[t].remove()},add:function(){for(var t in e)e[t].add()}}},i=function(){var t=window.navigator.msPointerEnabled?{mousedown:"MSPointerDown",mousemove:"MSPointerMove",mouseup:"MSPointerUp"}:{},n=e.supports("touchstart")?{mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"}:{};return function(e){return t[e]&&(e=t[e]),n[e]&&(e=n[e]),document.addEventListener?e:"on"+e}}(),s={},o=0,u=function(e){return e===window?"#window":e===document?"#document":e?(e.uniqueID||(e.uniqueID="id"+o++),e.uniqueID):console.log("Missing target on listener!")},a=document.addEventListener?"addEventListener":"attachEvent",f=document.removeEventListener?"removeEventListener":"detachEvent";return e.getPointerList=function(){var e=[];if(this.touchList)for(var n=0;n<this.touchList.length;n++){var r=this.touchList[n],r=new t(r.pageX,r.pageY,"touch",r.identifier);e.push(r)}return this.mouseEvent&&e.push(new t(this.mouseEvent.pageX,this.mouseEvent.pageY,"mouse",Infinity)),e},e.createCustomEvent=function(e,t,n){var r=document.createEvent("Event");r.initEvent(e,!0,!0);for(var i in n)r[i]=n[i];t.dispatchEvent(r)},(e.modifyAddEventListener||e.modifySelectors)&&function(){if(e.modifyAddEventListener){var t=function(t){var r=function(r){var s=r+"EventListener",o=t[s];t[s]=function(t,s,u){if(e.Gesture._gestureHandlers[t]){var a=u;typeof u=="object"?a.useCall=!0:a={useCall:!0,useCapture:u},n(this,t,s,a,r),o.call(this,t,s,u)}else o.call(this,i(t),s,u)}};r("add"),r("remove")};navigator.userAgent.match(/Firefox/)?(t(HTMLDivElement.prototype),t(HTMLCanvasElement.prototype)):t(HTMLElement.prototype),t(document),t(window)}e.modifySelectors&&(t=NodeList.prototype,t.removeEventListener=function(e,t,n){for(var r=0,i=this.length;r<i;r++)this[r].removeEventListener(e,t,n)},t.addEventListener=function(e,t,n){for(var r=0,i=this.length;r<i;r++)this[r].addEventListener(e,t,n)})}(),e}(Event),typeof Event=="undefined"&&(Event={}),typeof Event.proxy=="undefined"&&(Event.proxy={}),Event.proxy=function(e){return e.utility=function(e,t){return e.doc=e.target.ownerDocument||e.target,e.minFingers=e.minFingers||e.fingers||1,e.maxFingers=e.maxFingers||e.fingers||Infinity,e.position=e.position||"relative",t=t||{},t.type=e.type,t.target=e.target,t.listener=e.listener,t.remove=function(){e.onPointerDown&&Event.remove(e.target,"mousedown",e.onPointerDown),e.onPointerMove&&Event.remove(e.doc,"mousemove",e.onPointerMove),e.onPointerUp&&Event.remove(e.doc,"mouseup",e.onPointerUp)},t.disable=function(t){e.onPointerMove&&(!t||t.move)&&Event.remove(e.doc,"mousemove",e.onPointerMove),e.onPointerUp&&(!t||t.up)&&Event.remove(e.doc,"mouseup",e.onPointerUp)},t.enable=function(t){e.onPointerMove&&(!t||t.move)&&Event.add(e.doc,"mousemove",e.onPointerMove),e.onPointerUp&&(!t||t.move)&&Event.add(e.doc,"mouseup",e.onPointerUp)},t},e.gestureStart=function(t,n){for(var r=function(e,t){var r=n.bbox,i=s[t]={};switch(n.position){case"absolute":i.offsetX=0,i.offsetY=0;break;case"difference":i.offsetX=e.pageX,i.offsetY=e.pageY;break;case"move":i.offsetX=e.pageX-r.x1,i.offsetY=e.pageY-r.y1;break;default:i.offsetX=r.x1,i.offsetY=r.y1}var o=(e.pageX+r.scrollLeft-i.offsetX)*r.scaleX,r=(e.pageY+r.scrollTop-i.offsetY)*r.scaleY;i.rotation=0,i.scale=1,i.startTime=i.moveTime=(new Date).getTime(),i.move={x:o,y:r},i.start={x:o,y:r},n.fingers++},i=!n.fingers,s=n.tracker,o=t.changedTouches||e.getCoords(t),u=o.length,a=0;a<u;a++){var f=o[a],l=f.identifier||0;if(n.fingers){if(n.fingers>=n.maxFingers)break;var h=0,p;for(p in s){if(s[p].up){delete s[p],r(f,l),n.cancel=!0;break}h++}if(s[l])continue}else s=n.tracker={},n.bbox=e.getBoundingBox(n.target),n.fingers=0,n.cancel=!1;r(f,l)}return i},e.gestureEnd=function(e,t,n){for(var r=e.touches||[],i=r.length,e={},s=0;s<i;s++)e[r[s].identifier||0]=!0;for(var o in t.tracker)if(r=t.tracker[o],!e[o]&&!r.up)n&&n({pageX:r.pageX,pageY:r.pageY,changedTouches:[{pageX:r.pageX,pageY:r.pageY,identifier:o}]},"up"),t.tracker[o].up=!0,t.fingers--;if(t.fingers!==0)return!1;t.gestureFingers=0;for(var u in t.tracker)t.gestureFingers++;return!0},e.getBoundingBox=function(e){if(e===window||e===document)e=document.body;var t={x1:0,y1:0,x2:0,y2:0,scrollLeft:0,scrollTop:0};e===document.body?(t.height=window.innerHeight,t.width=window.innerWidth):(t.height=e.offsetHeight,t.width=e.offsetWidth),t.scaleX=e.width/t.width||1,t.scaleY=e.height/t.height||1;for(var n=e;n!==null;)t.x1+=n.offsetLeft,t.y1+=n.offsetTop,n=n.offsetParent;for(n=e.parentNode;n!==null;){if(n===document.body)break;if(n.scrollTop===void 0)break;t.scrollLeft+=n.scrollLeft,t.scrollTop+=n.scrollTop,n=n.parentNode}return t.x2=t.x1+t.width,t.y2=t.y1+t.height,t},e.getCoords=function(t){return e.getCoords=typeof t.pageX!="undefined"?function(e){return Array(e)}:function(e){return e=e||window.event,Array({pageX:e.clientX+document.documentElement.scrollLeft,pageY:e.clientY+document.documentElement.scrollTop})},e.getCoords(t)},e.getCoord=function(t){if("ontouchstart"in window){var n=0,r=0;e.getCoord=function(e){return e=e.changedTouches,e.length?{x:n=e[0].pageX,y:r=e[0].pageY}:{x:n,y:r}}}else e.getCoord=typeof t.pageX!="undefined"&&typeof t.pageY!="undefined"?function(e){return{x:e.pageX,y:e.pageY}}:function(e){return e=e||window.event,{x:e.clientX+document.documentElement.scrollLeft,y:e.clientY+document.documentElement.scrollTop}};return e.getCoord(t)},e}(Event.proxy),typeof Event=="undefined"&&(Event={}),typeof Event.proxy=="undefined"&&(Event.proxy={}),Event.proxy=function(e){return e.click=function(t){t.doc=t.target.ownerDocument||t.target,t.minFingers=t.minFingers||1,t.maxFingers=t.maxFingers||1;var n={type:"click",target:t.target,listener:t.listener,add:function(){Event.add(t.target,"mousedown",i)},remove:function(){Event.remove(t.target,"mousedown",i)}},r,i=function(n){e.gestureStart(n,t)&&(Event.add(t.doc,"mousemove",s).listener(n),Event.add(t.doc,"mouseup",o))},s=function(e){r=e},o=function(i){if(e.gestureEnd(i,t)&&(Event.remove(t.doc,"mousemove",s),Event.remove(t.doc,"mouseup",o),!(r.cancelBubble&&++r.bubble>1))){var u=(r.changedTouches||e.getCoords(r))[0],i=t.bbox,f=e.getBoundingBox(t.target),l=(u.pageX+i.scrollLeft-i.x1)*i.scaleX,u=(u.pageY+i.scrollTop-i.y1)*i.scaleY;l>0&&l<i.width&&u>0&&u<i.height&&i.scrollTop===f.scrollTop&&t.listener(r,n)}};return Event.add(t.target,"mousedown",i),n},Event.Gesture=Event.Gesture||{},Event.Gesture._gestureHandlers=Event.Gesture._gestureHandlers||{},Event.Gesture._gestureHandlers.click=e.click,e}(Event.proxy),typeof Event=="undefined"&&(Event={}),typeof Event.proxy=="undefined"&&(Event.proxy={}),Event.proxy=function(e){return e.dbltap=e.dblclick=function(t){t.doc=t.target.ownerDocument||t.target,t.minFingers=t.minFingers||1,t.maxFingers=t.maxFingers||1;var n={type:t.type,target:t.target,listener:t.listener,remove:function(){Event.remove(t.target,"mousedown",a)}},r,i,s,o,u,a=function(n){var a=n.changedTouches||e.getCoords(n);r&&!i?(u=a[0],i=(new Date).getTime()-r):(o=a[0],r=(new Date).getTime(),i=0,clearTimeout(s),s=setTimeout(function(){r=0},700)),e.gestureStart(n,t)&&(Event.add(t.doc,"mousemove",f).listener(n),Event.add(t.doc,"mouseup",l))},f=function(n){r&&!i&&(u=(n.changedTouches||e.getCoords(n))[0]);var n=t.bbox,a=(u.pageX+n.scrollLeft-n.x1)*n.scaleX,l=(u.pageY+n.scrollTop-n.y1)*n.scaleY;a>0&&a<n.width&&l>0&&l<n.height&&Math.abs(u.pageX-o.pageX)<=25&&Math.abs(u.pageY-o.pageY)<=25||(Event.remove(t.doc,"mousemove",f),clearTimeout(s),r=i=0)},l=function(o){e.gestureEnd(o,t)&&(Event.remove(t.doc,"mousemove",f),Event.remove(t.doc,"mouseup",l)),r&&i&&(i<=700&&!(o.cancelBubble&&++o.bubble>1)&&(n.state=t.type,t.listener(o,n)),clearTimeout(s),r=i=0)};return Event.add(t.target,"mousedown",a),n},Event.Gesture=Event.Gesture||{},Event.Gesture._gestureHandlers=Event.Gesture._gestureHandlers||{},Event.Gesture._gestureHandlers.dbltap=e.dbltap,Event.Gesture._gestureHandlers.dblclick=e.dblclick,e}(Event.proxy),typeof Event=="undefined"&&(Event={}),typeof Event.proxy=="undefined"&&(Event.proxy={}),Event.proxy=function(e){return e.drag=function(t){t.onPointerDown=function(n){e.gestureStart(n,t)&&(Event.add(t.doc,"mousemove",t.onPointerMove),Event.add(t.doc,"mouseup",t.onPointerUp)),t.onPointerMove(n,"down")},t.onPointerMove=function(r,i){for(var s=t.bbox,o=r.changedTouches||e.getCoords(r),u=o.length,f=0;f<u;f++){var l=o[f],h=l.identifier||0,p=t.tracker[h];p&&(p.pageX=l.pageX,p.pageY=l.pageY,n.state=i||"move",n.identifier=h,n.start=p.start,n.x=(l.pageX+s.scrollLeft-p.offsetX)*s.scaleX,n.y=(l.pageY+s.scrollTop-p.offsetY)*s.scaleY,t.listener(r,n))}},t.onPointerUp=function(n){e.gestureEnd(n,t,t.onPointerMove)&&(Event.remove(t.doc,"mousemove",t.onPointerMove),Event.remove(t.doc,"mouseup",t.onPointerUp))};var n=e.utility(t);return t.event?t.onPointerDown(t.event):Event.add(t.target,"mousedown",t.onPointerDown),n},Event.Gesture=Event.Gesture||{},Event.Gesture._gestureHandlers=Event.Gesture._gestureHandlers||{},Event.Gesture._gestureHandlers.drag=e.drag,e}(Event.proxy),typeof Event=="undefined"&&(Event={}),typeof Event.proxy=="undefined"&&(Event.proxy={}),Event.proxy=function(e){var t=Math.PI/180;return e.gesture=function(n){n.doc=n.target.ownerDocument||n.target,n.minFingers=n.minFingers||2,n.maxFingers=n.maxFingers||2;var r={type:"gesture",target:n.target,listener:n.listener,remove:function(){Event.remove(n.target,"mousedown",i)}},i=function(t){var i=n.fingers;e.gestureStart(t,n)&&(Event.add(n.doc,"mousemove",s),Event.add(n.doc,"mouseup",o));if(n.fingers===n.minFingers&&i!==n.fingers){r.fingers=n.minFingers,r.scale=1,r.rotation=0,r.state="start";var i="",u;for(u in n.tracker)i+=u;r.identifier=parseInt(i),n.listener(t,r)}},s=function(i){for(var s=n.bbox,o=n.tracker,u=i.changedTouches||e.getCoords(i),f=u.length,l=0;l<f;l++){var h=u[l],p=h.identifier||0,d=o[p];d&&(d.move.x=(h.pageX+s.scrollLeft-s.x1)*s.scaleX,d.move.y=(h.pageY+s.scrollTop-s.y1)*s.scaleY)}if(!(n.fingers<n.minFingers)){var u=[],v=d=l=s=0,f=0;for(p in o)h=o[p],h.up||(d+=h.move.x,v+=h.move.y,f++);d/=f,v/=f;for(p in o)if(h=o[p],!h.up){f=h.start;if(!f.distance){var m=f.x-d,g=f.y-v;f.distance=Math.sqrt(m*m+g*g),f.angle=Math.atan2(m,g)/t}var m=h.move.x-d,g=h.move.y-v,y=Math.sqrt(m*m+g*g);s+=y/f.distance,m=Math.atan2(m,g)/t,f=(f.angle-m+360)%360-180,h.DEG2=h.DEG1,h.DEG1=f>0?f:-f,typeof h.DEG2!="undefined"&&(f>0?h.rotation+=h.DEG1-h.DEG2:h.rotation-=h.DEG1-h.DEG2,l+=h.rotation),u.push(h.move)}r.touches=u,r.fingers=n.fingers,r.scale=s/n.fingers,r.rotation=l/n.fingers,r.state="change",n.listener(i,r)}},o=function(t){var i=n.fingers;e.gestureEnd(t,n)&&(Event.remove(n.doc,"mousemove",s),Event.remove(n.doc,"mouseup",o)),i===n.minFingers&&n.fingers<n.minFingers&&(r.fingers=n.fingers,r.state="end",n.listener(t,r))};return Event.add(n.target,"mousedown",i),r},Event.Gesture=Event.Gesture||{},Event.Gesture._gestureHandlers=Event.Gesture._gestureHandlers||{},Event.Gesture._gestureHandlers.gesture=e.gesture,e}(Event.proxy),typeof Event=="undefined"&&(Event={}),typeof Event.proxy=="undefined"&&(Event.proxy={}),Event.proxy=function(e){return e.pointerdown=function(t){if(!t.target.isPointerEmitter){t.onPointerDown=function(e){t.target.mouseEvent=e,Event.createCustomEvent("pointerdown",e.target,{pointerType:"mouse",getPointerList:Event.getPointerList.bind(this),originalEvent:e})},t.onPointerMove=function(e){t.target.mouseEvent&&(t.target.mouseEvent=e),Event.createCustomEvent("pointermove",e.target,{pointerType:"mouse",getPointerList:Event.getPointerList.bind(this),originalEvent:e})},t.onPointerUp=function(e){t.target.mouseEvent=null,Event.createCustomEvent("pointerup",e.target,{pointerType:"mouse",getPointerList:Event.getPointerList.bind(this),originalEvent:e})};var n=e.utility(t);return Event.add(t.target,"mousedown",t.onPointerDown),Event.add(t.target,"mousemove",t.onPointerMove),Event.add(t.target,"mouseup",t.onPointerUp),t.target.isPointerEmitter=!0,n}},Event.Gesture=Event.Gesture||{},Event.Gesture._gestureHandlers=Event.Gesture._gestureHandlers||{},Event.Gesture._gestureHandlers.pointerdown=e.pointerdown,Event.Gesture._gestureHandlers.pointermove=e.pointermove,Event.Gesture._gestureHandlers.pointerup=e.pointerup,e}(Event.proxy),typeof Event=="undefined"&&(Event={}),typeof Event.proxy=="undefined"&&(Event.proxy={}),Event.proxy=function(e){return e.shake=e.devicemotion=function(e){var t={type:"devicemotion",acceleration:{},accelerationIncludingGravity:{},target:e.target,listener:e.listener,remove:function(){window.removeEventListener("devicemotion",s,!1)}},n=(new Date).getTime(),r={x:0,y:0,z:0},i={x:{count:0,value:0},y:{count:0,value:0},z:{count:0,value:0}},s=function(s){var o=s.accelerationIncludingGravity;r.x=.8*r.x+(1-.8)*o.x,r.y=.8*r.y+(1-.8)*o.y,r.z=.8*r.z+(1-.8)*o.z,t.accelerationIncludingGravity=r,t.acceleration.x=o.x-r.x,t.acceleration.y=o.y-r.y,t.acceleration.z=o.z-r.z;if(e.type==="devicemotion")return e.listener(s,t);for(var o=(new Date).getTime(),u=0;u<3;u++){var f="xyz"[u],l=t.acceleration[f],f=i[f],p=Math.abs(l);if(!(o-n<1e3)&&p>4)if(l=o*l/p,p=Math.abs(l+f.value),f.value&&p<200){if(f.value=l,f.count++,f.count===3)e.listener(s,t),n=o,f.value=0,f.count=0}else f.value=l,f.count=1}};if(window.addEventListener)return window.addEventListener("devicemotion",s,!1),t},Event.Gesture=Event.Gesture||{},Event.Gesture._gestureHandlers=Event.Gesture._gestureHandlers||{},Event.Gesture._gestureHandlers.shake=e.shake,Event.Gesture._gestureHandlers.devicemotion=e.devicemotion,e}(Event.proxy),typeof Event=="undefined"&&(Event={}),typeof Event.proxy=="undefined"&&(Event.proxy={}),Event.proxy=function(e){var t=Math.PI/180;return e.swipe=function(n){n.doc=n.target.ownerDocument||n.target,n.snap=n.snap||90,n.threshold=n.threshold||1,n.minFingers=n.minFingers||1,n.maxFingers=n.maxFingers||5;var r={type:"swipe",target:n.target,listener:n.listener,remove:function(){Event.remove(n.target,"mousedown",i)}},i=function(t){e.gestureStart(t,n)&&(Event.add(n.doc,"mousemove",s).listener(t),Event.add(n.doc,"mouseup",o))},s=function(t){for(var t=t.changedTouches||e.getCoords(t),r=t.length,i=0;i<r;i++){var s=t[i],o=n.tracker[s.identifier||0];o&&(o.move.x=s.pageX,o.move.y=s.pageY,o.moveTime=(new Date).getTime())}},o=function(i){if(e.gestureEnd(i,n)){Event.remove(n.doc,"mousemove",s),Event.remove(n.doc,"mouseup",o);var u,f,l,p,d;for(d in n.tracker){var v=n.tracker[d];p=v.move.x-v.start.x;var m=v.move.y-v.start.y;f=Math.sqrt(p*p+m*m),v=v.moveTime-v.startTime,p=Math.atan2(p,m)/t+180,f=v?f/v:0;if(typeof l=="undefined")l=p,u=f;else{if(!(Math.abs(p-l)<=20))return;l=(l+p)/2,u=(u+f)/2}}u>n.threshold&&(r.angle=-(((l/n.snap+.5>>0)*n.snap||360)-360),r.velocity=u,r.fingers=n.gestureFingers,n.listener(i,r))}};return Event.add(n.target,"mousedown",i),r},Event.Gesture=Event.Gesture||{},Event.Gesture._gestureHandlers=Event.Gesture._gestureHandlers||{},Event.Gesture._gestureHandlers.swipe=e.swipe,e}(Event.proxy),typeof Event=="undefined"&&(Event={}),typeof Event.proxy=="undefined"&&(Event.proxy={}),Event.proxy=function(e){return e.tap=e.longpress=function(t){t.doc=t.target.ownerDocument||t.target,t.minFingers=t.minFingers||1,t.maxFingers=t.maxFingers||Infinity,t.type==="longpress"||t.delay?(t.type="longpress",t.ms=t.delay||500):(t.type="tap",t.ms=t.timeout||250);var n={type:t.type,target:t.target,listener:t.listener,remove:function(){Event.remove(t.target,"mousedown",s)}},r,i,s=function(s){e.gestureStart(s,t)&&(r=(new Date).getTime(),Event.add(t.doc,"mousemove",o).listener(s),Event.add(t.doc,"mouseup",u),t.type==="longpress"&&(i=setTimeout(function(){if(!(s.cancelBubble&&++s.bubble>1)){var e=0,r;for(r in t.tracker){if(t.tracker[r].end===!0)return;if(t.cancel)return;e++}n.state="start",n.fingers=e,t.listener(s,n)}},t.ms)))},o=function(n){for(var r=t.bbox,n=n.changedTouches||e.getCoords(n),i=n.length,s=0;s<i;s++){var u=n[s],f=t.tracker[u.identifier||0];if(f){var l=(u.pageX+r.scrollLeft-r.x1)*r.scaleX,u=(u.pageY+r.scrollTop-r.y1)*r.scaleY;if(!(l>0&&l<r.width&&u>0&&u<r.height&&Math.abs(l-f.start.x)<=25&&Math.abs(u-f.start.y)<=25)){Event.remove(t.doc,"mousemove",o),t.cancel=!0;break}}}},u=function(s){e.gestureEnd(s,t)&&(clearTimeout(i),Event.remove(t.doc,"mousemove",o),Event.remove(t.doc,"mouseup",u),!(s.cancelBubble&&++s.bubble>1))&&(t.type==="longpress"?n.state==="start"&&(n.state="end",t.listener(s,n)):!t.cancel&&!((new Date).getTime()-r>t.ms)&&(n.state="tap",n.fingers=t.gestureFingers,t.listener(s,n)))};return Event.add(t.target,"mousedown",s),n},Event.Gesture=Event.Gesture||{},Event.Gesture._gestureHandlers=Event.Gesture._gestureHandlers||{},Event.Gesture._gestureHandlers.tap=e.tap,Event.Gesture._gestureHandlers.longpress=e.longpress,e}(Event.proxy),typeof Event=="undefined"&&(Event={}),typeof Event.proxy=="undefined"&&(Event.proxy={}),Event.proxy=function(e){return e.mousewheel=function(e){var t=e.timeout||150,n={type:"mousewheel",state:"start",wheelDelta:0,target:e.target,listener:e.listener,remove:function(){e.target[s](o,r,!1)}},r=function(r){r=r||window.event,n.state="start",n.wheelDelta=r.detail?r.detail*-40:r.wheelDelta,e.listener(r,n),clearTimeout(t),t=setTimeout(function(){n.state="end",n.wheelDelta=0,e.listener(r,n)},t)},i=document.addEventListener?"addEventListener":"attachEvent",s=document.removeEventListener?"removeEventListener":"detachEvent",o=Event.supports("mousewheel")?"mousewheel":"DOMMouseScroll";return e.target[i](o,r,!1),n},Event.Gesture=Event.Gesture||{},Event.Gesture._gestureHandlers=Event.Gesture._gestureHandlers||{},Event.Gesture._gestureHandlers.mousewheel=e.mousewheel,e}(Event.proxy);